PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "activation_codes" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "code" TEXT NOT NULL,
    "isUsed" BOOLEAN NOT NULL DEFAULT false,
    "usedAt" DATETIME,
    "usedBy" TEXT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "expiresAt" DATETIME
);
INSERT INTO activation_codes VALUES(1,'B1BA4A4C98D0FE84',0,NULL,NULL,1749206623717,1751798623703);
INSERT INTO activation_codes VALUES(2,'8E2D96599BD77C81',0,NULL,NULL,1749206623720,1751798623703);
INSERT INTO activation_codes VALUES(3,'470EB64B4F6D4335',0,NULL,NULL,1749206623722,1751798623703);
INSERT INTO activation_codes VALUES(4,'078A28E014F5A6AE',0,NULL,NULL,1749206623724,1751798623703);
INSERT INTO activation_codes VALUES(5,'2409574C9BBA6313',0,NULL,NULL,1749206623725,1751798623703);
INSERT INTO activation_codes VALUES(6,'18F4715A3C709662',0,NULL,NULL,1749206623727,1751798623703);
INSERT INTO activation_codes VALUES(7,'D52AC346518456B1',0,NULL,NULL,1749206623729,1751798623703);
INSERT INTO activation_codes VALUES(8,'9CF2853E276062CD',0,NULL,NULL,1749206623730,1751798623703);
INSERT INTO activation_codes VALUES(9,'542FC7713F090363',0,NULL,NULL,1749206623731,1751798623703);
INSERT INTO activation_codes VALUES(10,'D1E0C5F8E3CB8E5F',0,NULL,NULL,1749206623733,1751798623703);
INSERT INTO activation_codes VALUES(12,'09CF1E7F444AC483',1,1749206991937,'D991D335-D34C-58C0-BBED-63ACE175DFF3',1749206921946,1751798921941);
INSERT INTO activation_codes VALUES(13,'F95134ED7CEF5866',0,NULL,NULL,1749206921947,1751798921941);
CREATE TABLE IF NOT EXISTS "admins" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "username" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" DATETIME NOT NULL
);
INSERT INTO admins VALUES(1,'admin','$2a$12$nAcKbZA0i9rWu1XgG2.An.bc26f1iantB0ys2HyntfZ0VKcZLdrh2',1749209984808,1749209984808);
CREATE TABLE IF NOT EXISTS "system_configs" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "key" TEXT NOT NULL,
    "value" TEXT NOT NULL,
    "description" TEXT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" DATETIME NOT NULL
);
INSERT INTO system_configs VALUES(1,'allowedIPs','["127.0.0.1","::1"]','IP白名单列表',1749210412627,1749210412627);
INSERT INTO system_configs VALUES(2,'jwtSecret','72a99ef4352d55f8c6c5bdbe8a54e0d58df60740e229318cbc2dea4154ef48dd','JWT密钥',1749210412627,1749210412627);
INSERT INTO system_configs VALUES(3,'jwtExpiresIn','24h','JWT过期时间',1749210412627,1749210412627);
INSERT INTO system_configs VALUES(4,'bcryptRounds','12','bcrypt加密强度',1749210412627,1749210412627);
INSERT INTO system_configs VALUES(5,'systemName','激活码管理系统','系统名称',1749210412627,1749210412627);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('activation_codes',13);
INSERT INTO sqlite_sequence VALUES('admins',1);
INSERT INTO sqlite_sequence VALUES('system_configs',5);
CREATE UNIQUE INDEX "activation_codes_code_key" ON "activation_codes"("code");
CREATE UNIQUE INDEX "admins_username_key" ON "admins"("username");
CREATE UNIQUE INDEX "system_configs_key_key" ON "system_configs"("key");
COMMIT;
